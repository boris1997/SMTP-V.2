class Slider{constructor(t,e,i,s,n,o,r,l,a,c,h,d,u){this.content=t,this.main=e,this.wrapper=i,this.sliderBreakpoint=s,this.arrow=n,this.circeTogglers=o,this.circleActiveClass=r,this.slideResizeOberverObj=l,this.toggleResizeOberverObj=u,this.toggleBtn=a,this.toggleMoveGif=c,this.slideNumber=d,this.isDragging=!1,this.currentIndex=0,this.startPos=0,this.translateStepX=0,this.currentTranslationX=0,this.currentTranslationMove,this.margin=0,this.sliderLimit=0,this.elemntsMargins=0,this.prevTranslation=0,this.animationID=0,this.stopperFactor=h,this.oserver=null}initDrag=()=>{this.content.map(((t,e)=>{t.addEventListener("dragstart",(t=>t.preventDefault())),t.addEventListener("touchstart",this.touchStart(e),{passive:!0}),t.addEventListener("touchend",(t=>this.touchEnd(t))),t.addEventListener("touchmove",this.touchMove,{passive:!0}),t.addEventListener("mousedown",this.touchStart(e),{passive:!0}),t.addEventListener("mouseup",(t=>this.touchEnd(t))),t.addEventListener("mousemove",this.touchMove,{passive:!0}),t.addEventListener("mouseleave",(t=>this.isDragging&&this.touchEnd(t)))}))};contextMenu=()=>{window.oncontextmenu=t=>(t.preventDefault(),t.stopPropagation(),!1)};animation=()=>{console.log("ok"),this.setSliderPositionX(this.main,this.currentTranslationX),this.isDragging&&requestAnimationFrame(this.animation)};touchStart=t=>t=>{console.log(this.sliderBreakpoint,innerWidth),this.sliderBreakpoint>innerWidth&&(console.log("ok"),this.main.classList.remove("slider--smooth"),this.startPos=this.getPositionX(t),this.isDragging=!0,this.animationID=requestAnimationFrame(this.animation))};touchMove=t=>{if(this.isDragging&&this.sliderBreakpoint>innerWidth){let e=this.getPositionX(t);window.innerWidth,this.wrapper.getBoundingClientRect().left,this.wrapper.clientWidth;(window.innerWidth-(this.content[this.content.length-1].getBoundingClientRect().left+this.content[this.content.length-1].clientWidth)<=this.sliderLimit&&+Math.abs(this.currentTranslationX).toFixed()<=(this.translateStepX*(this.content.length-1)+this.elemntsMargins).toFixed()&&this.currentTranslationX<2||this.currentTranslationX>=this.prevTranslation&&this.currentTranslationX<2)&&(this.currentTranslationX=this.absToPercent(this.prevTranslation*this.main.clientWidth/100+e-this.startPos,this.main.clientWidth))}};touchEnd=t=>{this.sliderBreakpoint>innerWidth&&(this.main.classList.add("slider--smooth"),cancelAnimationFrame(this.animationID),this.isDragging=!1,this.currentIndex<this.content.length-1&&Math.abs(this.currentTranslationX)>Math.abs(this.prevTranslation)+this.translateStepX/3.5&&this.currentIndex++,this.currentIndex>=0&&Math.abs(this.currentTranslationX)<Math.abs(this.prevTranslation)-this.translateStepX/3.5&&this.currentIndex--,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts(),this.circeTogglers&&this.setCircleActivity(this.circeTogglers[this.currentIndex]),setTimeout((()=>{const t=window.innerWidth-(this.wrapper.getBoundingClientRect().left+this.wrapper.clientWidth);console.log(t);const e=window.innerWidth-(this.content[this.content.length-1].getBoundingClientRect().left+this.content[this.content.length-1].clientWidth);console.log(e),this.sliderLimit=e>0?t+e:0,console.log(this.sliderLimit)}),500))};initArrowsBtns=()=>{this.arrow[0].addEventListener("click",(()=>this.left())),this.arrow[1].addEventListener("click",(()=>this.rigth()))};rigth=()=>{this.currentIndex<this.getMainToContentIndex()&&(this.currentIndex++,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts())};left=()=>{Math.abs(this.currentTranslationX)>0&&(this.currentIndex--,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts())};initToggleBtns=()=>{this.toggleBtn.map(((t,e)=>t.addEventListener("click",(()=>{!this.toggleMoveGif.classList.contains("togglers__item-move--smooth")&&this.toggleClasses(this.toggleMoveGif,"togglers__item-move--smooth"),this.currentIndex=e,this.setCurrentXTranslation(),this.setSliderPositionX(this.main,this.currentTranslationX),this.setSlideNumber(this.slideNumber),"column"===this.direction()?this.setSliderPositionY(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100)):this.setSliderPositionX(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100))}))))};direction=()=>window.getComputedStyle(this.toggleBtn[0].parentElement).flexDirection;initCirceTogglers=()=>{this.circeTogglers.map(((t,e)=>t.addEventListener("click",(()=>{this.setCircleActivity(t),this.currentIndex=e,this.setPrevTranslation(),this.setCurrentXTranslation(),this.setSliderPositionX(this.main,this.currentTranslationX)}))))};getActiveElement=t=>document.querySelector(`.${t}`);setCircleActivity=t=>{this.toggleClasses(this.getActiveElement(this.circleActiveClass),this.circleActiveClass),this.toggleClasses(t,this.circleActiveClass)};changeArrowActivity=()=>{this.arrow&&(Math.abs(this.currentTranslationX)>0?this.arrow[0].classList.contains("carousel__toggle-btn--unactive")&&this.arrow[0].classList.remove("carousel__toggle-btn--unactive"):!this.arrow[0].classList.contains("carousel__toggle-btn--unactive")&&this.arrow[0].classList.add("carousel__toggle-btn--unactive"),this.currentIndex===this.getMainToContentIndex()?this.arrow[1].classList.add("carousel__toggle-btn--unactive"):this.arrow[1].classList.remove("carousel__toggle-btn--unactive"))};getUnactiveElts=()=>this.content.map(((t,e)=>{const i=this.percentToAbsolute(Math.abs(this.currentTranslationX),this.main.clientWidth).toFixed();this.main.clientWidth<=t.offsetLeft+this.margin+e-i||t.offsetLeft+e-i<0?t.classList.add("carousel__item--unActive"):t.classList.contains("carousel__item--unActive")&&t.classList.remove("carousel__item--unActive")}));slideRzeObrCallback=t=>{const e=new Promise(((t,e)=>{console.log("ok"),setTimeout((()=>{this.getMargin(),t()}),300)}));console.log("ok"),e.then((()=>{if(console.log("ok"),this.getTranslateStepX(),this.currentIndex>this.getMainToContentIndex()){const t=this.currentIndex-this.getMainToContentIndex();this.currentIndex-=t}this.sliderBreakpoint<innerWidth&&(this.currentIndex=0),this.circeTogglers&&this.setCircleActivity(this.circeTogglers[this.currentIndex]),this.setPrevTranslation(),this.getMainToContentIndex(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts()}))};slideResizeObserver=()=>{this.resizerSlide=new ResizeObserver(this.slideRzeObrCallback),this.resizerSlide.observe(this.slideResizeOberverObj)};toggleContainerRzeObrCallback=()=>{this.toggleMoveGif.classList.contains("togglers__item-move--smooth")&&this.toggleClasses(this.toggleMoveGif,"togglers__item-move--smooth"),"column"===this.direction()?this.setSliderPositionY(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100)):this.setSliderPositionX(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100))};toggleContainerResizeObserver=()=>{this.resizerToggler=new ResizeObserver(this.toggleContainerRzeObrCallback),this.resizerToggler.observe(this.toggleResizeOberverObj)};toggleClasses=(t,e)=>t.classList.toggle(e);getMainToContentIndex=()=>this.content.length-(this.absToPercent(this.main.clientWidth,this.getTotalElementsWidth()).toFixed()/100*this.content.length).toFixed();setSliderPositionX=(t,e)=>t.style.transform=`translateX(${e}%)`;setSliderPositionY=(t,e)=>t.style.transform=`translateY(${e}%)`;getPositionX=t=>t.type.includes("mouse")?t.pageX:t.touches[0].clientX;absToPercent=(t,e)=>t/e*100;percentToAbsolute=(t,e)=>t/100*e;setSlideNumber=t=>t.textContent=this.currentIndex+1;setPrevTranslation=()=>this.prevTranslation=this.currentIndex*-this.absToPercent(this.content[0].clientWidth+this.margin,this.main.clientWidth).toFixed();setCurrentXTranslation=()=>this.currentTranslationX=this.currentIndex*-this.translateStepX;setCurrentFullBodyTranslation=t=>this.currentIndex*t;getMargin(t){return t++,this.margin=+getComputedStyle(this.content[1]).marginLeft.split("px").join(""),this.elemntsMargins=this.absToPercent(this.margin*this.content.length-1,this.getTotalElementsWidth())-this.stopperFactor,console.log(window.getComputedStyle(this.content[1]).marginLeft),console.log(this.content[1],getComputedStyle(this.content[1]).marginLeft,this.margin),t}getTranslateStepX=()=>{this.translateStepX=((this.content[1].clientWidth+this.margin)/this.main.clientWidth*100).toFixed(),console.log(this.margin)};getTotalElementsWidth=()=>(this.content[1].clientWidth+this.margin)*this.content.length}document.addEventListener("DOMContentLoaded",(()=>{const t=[...document.querySelectorAll(".advantages__carousel-item")];if(0!==t.length){const e=document.querySelector(".advantages__body"),i=document.querySelector(".advantages__slider"),s=document.querySelector(".advantages__resizer"),n=[...document.querySelectorAll(".circe-togglers__advantages")];console.log(n);const o=new Slider(t,i,e,480,null,n,"circe-togglers__item--active",s,null,null,0,null,null);o.getMargin(),o.getTranslateStepX(),o.initDrag(),o.initCirceTogglers(),o.contextMenu(),o.slideResizeObserver()}const e=[...document.querySelectorAll(".effect__item")];if(0!==e.length){const t=document.querySelector(".effect__body"),i=document.querySelector(".effect__slider"),s=document.querySelector(".effect__resizer"),n=new Slider(e,i,t,768,null,null,null,s,null,null,0,null,null);n.getMargin(),n.getTranslateStepX(),n.initDrag(),n.contextMenu(),n.slideResizeObserver()}const i=[...document.querySelectorAll(".programm__item ")];if(0!==i.length){const t=document.querySelector(".programm__body"),e=document.querySelector(".programm__slider "),s=document.querySelector(".programm__resizer"),n=new Slider(i,e,t,1225,null,null,null,s,null,null,0,null,null);n.getMargin(),n.getTranslateStepX(),n.initDrag(),n.contextMenu(),n.slideResizeObserver()}const s=[...document.querySelectorAll(".tariffsec__card")];if(0!==s.length){const t=document.querySelector(".tariffsec__slider"),e=document.querySelector(".tariffsec__body"),i=document.querySelector(".tariffsec__resizer"),n=[...document.querySelectorAll(".circe-togglers__item")],o=new Slider(s,t,e,480,null,n,"circe-togglers__item--active",i,null,null,0,null,null),r=new Promise(((t,e)=>{console.log("ok"),setTimeout((()=>{o.getMargin(),t()}),100)}));console.log("ok"),r.then((()=>{o.getTranslateStepX(),o.initDrag(),o.initCirceTogglers(),o.contextMenu(),o.slideResizeObserver()}))}const n=[...document.querySelectorAll(".interest-service__slider-item")];if(0!==n.length){const t=document.querySelector(".interest-service__slider"),e=document.querySelector(".interest-service__body"),i=document.querySelector(".interest-service__resizer"),s=new Slider(n,t,e,1225,null,null,null,i,null,null,0,null,null);s.getMargin(),s.getTranslateStepX(),s.initDrag(),s.contextMenu(),s.slideResizeObserver()}const o=[...document.querySelectorAll(".articles-content__slide")];if(0!==n.length){const t=document.querySelector(".usefull-articles__slider"),e=document.querySelector(".usefull-articles__body"),i=document.querySelector(".articles-content__resizer"),s=new Slider(o,t,e,1225,null,null,null,i,null,null,0,null,null);s.getMargin(),s.getTranslateStepX(),s.initDrag(),s.contextMenu(),s.slideResizeObserver()}}));class Accordion{constructor(t,e,i,s,n,o,r,l,a,c,h){this.btn=t,this.text=e,this.activeBtn=i,this.activeClasses=s,this.activeText=n,this.textToggle=o,this.textToggleBtn=r,this.transitionTime=l,this.heightVar=a,this.additionalElement=c,this.elementBody=h,this.initEvents()}initEvents=()=>{this.initArrayBtn()};fullHeight=t=>{setTimeout((()=>{console.log(this.elementBody.clientHeight),t.style.maxHeight=this.elementBody.clientHeight+"px",setTimeout((()=>{console.log(this.elementBody.clientHeight),t.style.maxHeight="100%"}),this.transitionTime)}),this.transitionTime)};initArrayBtn=()=>{console.log(this.btn),this.btn.map(((t,e)=>{t.addEventListener("click",(i=>{i.target.dataset.element||(this.textToggle&&this.changeBtnText(t,this.textToggleBtn),this.changeTextVisibility(this.text[e],t))}))}))};initBtn=()=>{this.btn.addEventListener("click",(t=>{this.textToggle&&this.changeBtnText(this.btn,this.textToggleBtn),this.changeTextVisibility(this.text,this.btn)}))};changeTextVisibility=(t,e)=>{console.log(t,e),this.setMaxHeight(t,e),e.classList.toggle(this.activeBtn),this.activeText&&t.classList.toggle(this.activeText)};setMaxHeight=(t,e)=>{console.log(this.activeBtn),this.setHeightValue(t).then((i=>{e.classList.contains(this.activeBtn)&&(console.log(e),setTimeout((()=>{t.style.setProperty(this.heightVar,"initial")}),this.transitionTime))}))};async setHeightValue(t){console.log(t.scrollHeight),0===t.clientHeight?(console.log(t.scrollHeight),t.style.setProperty(this.heightVar,`${t.scrollHeight}px`)):(console.log("ok",t.scrollHeight,this.heightVar),t.style.setProperty(this.heightVar,`${t.scrollHeight}px`),setTimeout((()=>{t.style.setProperty(this.heightVar,"0px")}),50))}changeBtnText=t=>{console.log(this.textToggleBtn,this),t.classList.contains(this.activeBtn)?this.textToggleBtn.textContent=this.textToggle[0]:this.textToggleBtn.textContent=this.textToggle[1]}}document.addEventListener("DOMContentLoaded",(()=>{const t=[...document.querySelectorAll(".item-faq")];if(0!==t.length){const e=[...document.querySelectorAll(".item-faq__text")];new Accordion(t,e,"incDec-btn--minus",["item-faq__body","item-faq__text"],null,null,null,500,"--max-heightFaq")}const e=[...document.querySelectorAll(".cities__content-hidden")];if(console.log(e),0!==e.length){const t=[...document.querySelectorAll(".cities__accordion-body")],i="cities__accordion-body--hide",s=document.querySelector(".cities__link");new Accordion(t,e,i,null,null,["Все города","Свернуть"],s,500,"--max-heightCities")}const i=[...document.querySelectorAll(".direction__content-overflow")];if(console.log(i),0!==i.length){const t=document.querySelector(".direction__body "),e=[...document.querySelectorAll(".direction__accordion-body")],s="direction__accordion-body--hide",n="direction__content-overflow--visible",o=document.querySelector(".direction__background-img"),r=document.querySelector(".direction__link");new Accordion(e,i,s,null,n,["Все направления","Свернуть"],r,300,"--max-heightDirection",o,t)}}));class CountTarif{constructor(t,e,i,s){this.switchRadio=t,this.switchLabel=e,this.togglersTariff=i,this.totalPriceEl=s,this.discountPrice=1600,this.primaryPriceIndex=1,this.priceIndex=1,this.limitier=10,this.disountArr=[],this.totalPrice=this.strToNumbaer(this.totalPriceEl),this.primaryPrice=this.totalPrice,this.tariffIndicators={indicator:[],discount:1}}setDiscounts=()=>{for(let t=0;t<=this.limitier;t++)0===t&&this.disountArr.push(1),1===t&&this.disountArr.push(.9),t>1&&this.disountArr.push(.85)};getindicators=()=>this.togglersTariff.map((t=>{this.tariffIndicators.indicator.push(this.strToNumbaer(t.children[1]))}));initSwitchTariffBtns=()=>{this.switchRadio.map(((t,e)=>t.addEventListener("click",(()=>this.changeTariff(e))))),this.switchLabel.map(((t,e)=>t.addEventListener("click",(()=>this.changeTariff(e)))))};initTogglers=()=>{this.togglersTariff.map(((t,e)=>t.addEventListener("click",(i=>this.toggleTariffIndicators(i,t,e)))))};toggleTariffIndicators=(t,e,i)=>{console.log(t.target.classList),t.target.classList.contains("incDec-btn__dec")&&this.decrIndicator(i),t.target.classList.contains("incDec-btn__inc")&&this.incrIndicator(i),console.log(t.target,e,i)};decrIndicator=t=>{console.log(this.tariffIndicators),this.priceIndex>1&&(this.priceIndex--,this.togglersTariff.map(((t,e)=>{let i=this.strToNumbaer(this.togglersTariff[e].children[1])-this.tariffIndicators.indicator[e];this.togglersTariff[e].children[1].textContent=this.addSpacesToNum(i)})),this.countTotalPrice(),this.showTotalPrice())};incrIndicator=t=>{console.log(this.tariffIndicators),this.priceIndex<this.limitier&&(this.priceIndex++,this.togglersTariff.map(((t,e)=>{let i=this.strToNumbaer(this.togglersTariff[e].children[1])+this.tariffIndicators.indicator[e];this.togglersTariff[e].children[1].textContent=this.addSpacesToNum(i)})),this.countTotalPrice(),this.showTotalPrice())};countTotalPrice=()=>{console.log(this.primaryPrice,this.disountArr[this.priceIndex]),this.discountPrice=this.primaryPrice*this.disountArr[this.priceIndex-1],console.log(this.discountPrice),this.totalPrice=this.discountPrice*this.priceIndex,console.log(this.priceIndex)};addSpacesToNum=t=>{t=t.toString().split("");for(let e=3;e<=t.length;e+=4)t.reverse().splice(e,0," "),t=t.reverse();return t.join("")};changeTariff=t=>{console.log(this.totalPrice),this.primaryPrice=0===t?1600:1800,console.log(this.discountPrice),this.countTotalPrice(),this.showTotalPrice()};showTotalPrice=()=>{const t=this.totalPrice;this.totalPriceEl.textContent=this.addSpacesToNum(t)};strToNumbaer=t=>+t.textContent.replace(/\s+/g,"")}document.addEventListener("DOMContentLoaded",(()=>{const t=[...document.querySelectorAll(".switch-radio__input")],e=[...document.querySelectorAll(".switch-radio__label")],i=[...document.querySelectorAll(".togglers-tariff__btn")],s=document.querySelector(".total-price__amount");if(0!==t.length&&0!==t.length&&0!==i.length&&null!==s){const n=new CountTarif(t,e,i,s);n.getindicators(),n.initSwitchTariffBtns(),n.initTogglers(),n.setDiscounts()}}));class Direction{constructor(t,e,i){this.directionsBody=t,this.directions=e,this.directionActive=i,this.initEvents()}initEvents=()=>{this.directionResizeObserver()};removeClass=(t,e)=>{t.classList.remove(e)};addClass=(t,e)=>{this.directions.indexOf(t)%3!=0&&t.classList.add(e)};directionRzeObrCallback=t=>{this.directions.map(((t,e)=>{this.detectOverflow(t)}))};directionResizeObserver=t=>{this.resizerDirection=new ResizeObserver(this.directionRzeObrCallback),this.resizerDirection.observe(this.directionsBody)};detectOverflow=t=>{let e=+window.getComputedStyle(t).marginTop.split("px").join(""),i=+window.getComputedStyle(t).marginRight.split("px").join("");e=+e.toFixed();let s=t.parentNode.getBoundingClientRect().top;s=+s.toFixed();let n=t.getBoundingClientRect().top;n=+n.toFixed();let o=[...t.parentNode.children];window.innerWidth>1190&&i>0&&(t.style.marginRight="0"),n-s>e&&t.classList.contains(this.directionActive)&&0!==o.indexOf(t)&&(this.removeClass(t,this.directionActive),t.previousElementSibling.style.marginRight="34px"),n-s!==e||t.classList.contains(this.directionActive)||0===o.indexOf(t)||(t.previousElementSibling.style.marginRight="0",this.addClass(t,this.directionActive))}}document.addEventListener("DOMContentLoaded",(()=>{const t=[...document.querySelectorAll(".direction__item")],e=document.querySelector(".direction__body-wrapper");0!==t.length&&new Direction(e,t,"direction__item--margin")}));class Filter{constructor(t,e,i,s,n,o,r,l,a,c,h,d){this.productWrapper=t,this.product=e,this.productPrice=i,this.productTitle=s,this.filterMinMaxAmount=n,this.filterRailWrapper=o,this.filterRailShifts=r,this.filterTransformVAr=l,this.filterRailLine=a,this.filterCheckboxLabel=c,this.filterCheckboxAmount=h,this.filterSearcher=d,this.currentIndex=0,this.startPos=0,this.translateStepX=0,this.currentTranslationX=0,this.currentTranslationMove,this.margin=0,this.wrapperRight=this.getElementRight(this.filterRailWrapper),this.ElementRight=this.getElementRight(this.filterRailShifts[this.filterRailShifts.length-1]),this.min=0,this.max=0,this.elemntsMargins=0,this.prevTranslation=0,this.animationID=0,this.oserver=null}getMinMax=()=>{let t=[];this.productPrice.map((e=>t.push(+e.textContent))),t=t.sort(((t,e)=>t-e)),console.log(t),this.min=t[0],this.minOneMore=t[1],this.max=t[t.length-1],this.maxOneLess=t[t.length-2],console.log(t,this.min,this.minOneMore,this.max)};displayMinMax=(t,e)=>{console.log(this.min,e),t.value=this.min,e.value=this.max};changePriceInput=()=>{this.filterMinMaxAmount[0].addEventListener("keyup",(t=>{this.filterProducts()}))};filterProducts=()=>{console.log(+this.productPrice[4].textContent),this.product=this.product.filter(((t,e)=>+this.productPrice[e].textContent>this.min&&+this.productPrice[e].textContent<this.max)),console.log(this.product),this.showFilteredProducts()};showFilteredProducts=()=>{let t=`${this.product}`;console.log(this.product.outerHTML),console.log(t),this.product.map((e=>{console.log(e),t+=`\n               <div class="content-products__item product">\n                                <div class="product__header">\n                                    <img src="./assets/img/COMBO/image-1.png" alt="" srcset="">\n                                </div>\n                                <div class="product__body">\n                                    <div class="product__body-wrapper">\n                                        <h3 class="product__title">${e}</h3>\n                                        <b class="product__price">344</b>\n                                        <div class="product__call-to-action"></div>\n                                    </div>\n                                </div>\n                            </div>`}))};initRailsShifts=()=>{console.log(this.filterRailShifts),this.filterRailShifts.map((t=>this.initDrag(t)))};initDrag=t=>{console.log(t),t.addEventListener("dragstart",(t=>t.preventDefault())),t.addEventListener("touchstart",this.touchStart(t),{passive:!0}),t.addEventListener("touchend",(()=>{this.touchEnd(t)})),t.addEventListener("touchmove",this.touchMove(t),{passive:!0}),t.addEventListener("mousedown",this.touchStart(t),{passive:!0}),t.addEventListener("mouseup",(()=>{this.touchEnd(t)})),t.addEventListener("mousemove",this.touchMove(t),{passive:!0}),t.addEventListener("mouseleave",(()=>this.isDragging&&this.touchEnd(t)))};getElementRight=t=>window.innerWidth-(t.getBoundingClientRect().left+t.clientWidth);contextMenu=()=>{window.oncontextmenu=t=>(t.preventDefault(),t.stopPropagation(),!1)};animation=t=>{this.setSliderPositionX(t,this.currentTranslationX),this.isDragging&&requestAnimationFrame(this.animation.bind(this,t))};touchStart=t=>e=>{this.startPos=this.getPositionX(e),this.isDragging=!0,this.animationID=requestAnimationFrame(this.animation.bind(this,t))};touchMove=t=>e=>{if(this.isDragging){let i=this.getPositionX(e);console.log(this.currentTranslationX,this.ElementRight,this.filterRailWrapper,this.filterRailShifts),(this.ElementRight<this.wrapperRight||this.startPos<i)&&(this.currentTranslationX<0||this.startPos>i)&&(console.log("ok"),this.ElementRight=this.getElementRight(t),this.currentTranslationX=i-this.startPos+this.prevTranslation),this.ElementRight<this.wrapperRight||this.startPos<i||!(this.currentTranslationX<0||this.startPos>i)||(this.ElementRight=this.wrapperRight,this.currentTranslationX=this.filterRailWrapper.clientWidth-t.clientWidth),(this.ElementRight<this.wrapperRight||this.startPos<i)&&!(this.currentTranslationX<0||this.startPos>i)&&(this.ElementRight=this.filterRailWrapper.clientWidth-t.clientWidth,this.currentTranslationX=0)}};touchEnd=t=>{console.log(this.animationID),cancelAnimationFrame(this.animationID),this.isDragging=!1,console.log(this.isDragging),this.prevTranslation=this.currentTranslationX,console.log(this.currentTranslationX),this.setSliderPositionX(t,this.currentTranslationX)};initArrowsBtns=()=>{this.arrow[0].addEventListener("click",(()=>this.left())),this.arrow[1].addEventListener("click",(()=>this.rigth()))};rigth=()=>{this.currentIndex<this.getMainToContentIndex()&&(this.currentIndex++,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts())};left=()=>{Math.abs(this.currentTranslationX)>0&&(this.currentIndex--,this.setPrevTranslation(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts())};initToggleBtns=()=>{this.toggleBtn.map(((t,e)=>t.addEventListener("click",(()=>{!this.toggleMoveGif.classList.contains("togglers__item-move--smooth")&&this.toggleClasses(this.toggleMoveGif,"togglers__item-move--smooth"),this.currentIndex=e,this.setCurrentXTranslation(),this.setSliderPositionX(this.main,this.currentTranslationX),this.setSlideNumber(this.slideNumber),this.column()?this.setSliderPositionY(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100)):this.setSliderPositionX(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100))}))))};column=()=>this.toggleBtn[0].parentElement.clientHeight>this.toggleBtn[0].parentElement.clientWidth;changeArrowActivity=()=>{console.log(this),Math.abs(this.currentTranslationX)>0?this.arrow[0].classList.contains("carousel__toggle-btn--unactive")&&this.arrow[0].classList.remove("carousel__toggle-btn--unactive"):!this.arrow[0].classList.contains("carousel__toggle-btn--unactive")&&this.arrow[0].classList.add("carousel__toggle-btn--unactive"),this.currentIndex===this.getMainToContentIndex()?this.arrow[1].classList.add("carousel__toggle-btn--unactive"):this.arrow[1].classList.remove("carousel__toggle-btn--unactive")};getUnactiveElts=()=>this.content.map(((t,e)=>{const i=this.percentToAbsolute(Math.abs(this.currentTranslationX),this.main.clientWidth).toFixed();this.main.clientWidth<=t.offsetLeft+this.margin+e-i||t.offsetLeft+e-i<0?t.classList.add("carousel__item--unActive"):t.classList.contains("carousel__item--unActive")&&t.classList.remove("carousel__item--unActive")}));slideRzeObrCallback=t=>{if(this.getTranslateStepX(),this.currentIndex>this.getMainToContentIndex()){const t=this.currentIndex-this.getMainToContentIndex();this.currentIndex-=t}console.log(this.currentIndex),this.setPrevTranslation(),this.getMainToContentIndex(),this.setCurrentXTranslation(),this.changeArrowActivity(),this.setSliderPositionX(this.main,this.currentTranslationX),this.getUnactiveElts()};slideResizeObserver=()=>{this.resizerSlide=new ResizeObserver(this.slideRzeObrCallback),this.resizerSlide.observe(this.slideResizeOberverObj)};toggleContainerRzeObrCallback=()=>{this.toggleMoveGif.classList.contains("togglers__item-move--smooth")&&this.toggleClasses(this.toggleMoveGif,"togglers__item-move--smooth"),this.column()?this.setSliderPositionY(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100)):this.setSliderPositionX(this.toggleMoveGif,this.setCurrentFullBodyTranslation(100))};toggleContainerResizeObserver=()=>{this.resizerToggler=new ResizeObserver(this.toggleContainerRzeObrCallback),console.log(this.toggleResizeOberverObj),this.resizerToggler.observe(this.toggleResizeOberverObj)};toggleClasses=(t,e)=>t.classList.toggle(e);getMainToContentIndex=()=>this.content.length-(this.absToPercent(this.main.clientWidth,this.getTotalElementsWidth()).toFixed()/100*this.content.length).toFixed();setSliderPositionX=(t,e)=>{console.log(t,e),t.style.setProperty(this.filterTransformVAr,`${e}px`)};setSliderPositionY=(t,e)=>t.style.transform=`translateY(${e}%)`;getPositionX=t=>t.type.includes("mouse")?t.pageX:t.touches[0].clientX;absToPercent=(t,e)=>t/e*100;percentToAbsolute=(t,e)=>t/100*e;setSlideNumber=t=>t.textContent=this.currentIndex+1;setPrevTranslation=()=>this.prevTranslation=this.currentIndex*-this.absToPercent(this.content[0].clientWidth+this.margin,this.main.clientWidth);setCurrentXTranslation=()=>this.currentTranslationX=this.currentIndex*-this.translateStepX;setCurrentFullBodyTranslation=t=>this.currentIndex*t;getMargin=()=>{this.margin=+getComputedStyle(this.content[0]).marginLeft.split("px").join(""),this.elemntsMargins=this.absToPercent(this.margin*this.content.length,this.getTotalElementsWidth())-this.stopperFactor};getTranslateStepX=()=>this.translateStepX=(this.content[0].clientWidth+this.margin)/this.main.clientWidth*100;getTotalElementsWidth=()=>(this.content[0].clientWidth+this.margin)*this.content.length}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".filter");if(t){console.log("ok");const e=[...document.querySelectorAll(".filter__body")],i=document.querySelector(".filter-rail__line");new Filter(null,null,null,null,null,t,e,"--body-transform",i,null,null,null).initRailsShifts()}}));class LazyLoading{constructor(t,e){this.dataLazy=t,this.activeClass=e,this.initEvents()}initEvents=()=>{this.scrollObserver()};scrollObserverCallback=(t,e)=>t.map((t=>t.isIntersecting&&this.loadContent(t.target)));loadContent=t=>{console.log(t.dataset),t.dataset.src&&this.loadImg(t,t.dataset.src),t.dataset.backgroungImg&&this.loadBackground(t,t.dataset.backgroungImg)};loadBackground=(t,e)=>{t.style.backgroundImage=`url(${e})`,this.addClass(t,this.activeClass),this.observer.unobserve(t)};loadImg=(t,e)=>{t.src=e,this.observer.unobserve(t)};addClass=(t,e)=>t.classList.add(this.activeClass);scrollObserver=()=>{const t={root:document.body,threshold:0,rootMargin:"0px 0px 500px 0px"};this.observer=new IntersectionObserver(this.scrollObserverCallback,t),this.dataLazy.map((t=>{this.observer.observe(t)}))}}document.addEventListener("DOMContentLoaded",(()=>{const t=[...document.querySelectorAll(".data-lazy")];new LazyLoading(t,"section--active")}));class Modal{constructor(t,e,i,s,n,o,r,l,a,c,h,d){this.body=t,this.popup=e,this.popupModal=i,this.popupModalWrapper=s,this.wrapperMargin=n,this.btnPopup=o,this.closeBtn=r,this.formInputs=l,this.popupModalActive=a,this.popupHidden=c,this.bodyNoScroll=h,this.staticForm=d,this.initEvents()}initEvents=()=>{console.log(this.btnPopup),this.initArrayBtnPopup(),this.initCloseBtn()};initCloseBtn=()=>{this.popup.addEventListener("click",(t=>{console.log(t.target.dataset),(t.target.classList.contains("popup__modal--active")||t.target.classList.contains("popup__modal-close")||"close"===t.target.dataset.modal)&&(t.stopPropagation(),console.log(t.target.classList),this.popupModal.map(((t,e)=>{t.classList.contains(this.popupModalActive)&&(this.removeClass(this.body,this.bodyNoScroll),this.removeNoScrollStyles(this.body),!t.classList.contains(this.staticForm)&&this.removeClass(t,this.popupModalActive),this.addClass(this.popup,this.popupHidden))})))}))};initArrayBtnPopup=()=>{this.btnPopup.map(((t,e)=>{console.log(t,t.type),"submit"===t.type?this.popupModal.map(((t,e)=>{"form"===t.dataset.modal&&this.submitForm(t)})):t.addEventListener("click",(()=>{this.popupModal.map(((e,i)=>{console.log(e.dataset.modal,t.dataset.modal),t.dataset.modal===e.dataset.modal&&("form"===e.dataset.modal&&this.submitForm(e),window.innerWidth-this.body.offsetWidth>0&&this.addMarginToBlock(this.popupModalWrapper[i]),!this.body.classList.contains(this.bodyNoScroll)&&(this.addNoScrollStyles(this.body),this.addClass(this.body,this.bodyNoScroll)),this.addClass(e,this.popupModalActive),this.popup.classList.contains(this.popupHidden)&&this.removeClass(this.popup,this.popupHidden))}))}))}))};addNoScrollStyles=t=>{console.log("pk"),t.style.paddingRight=window.innerWidth-this.body.offsetWidth+"px",t.style.width="100vw"};addMarginToBlock=t=>{this.addClass(t,this.wrapperMargin)};removeNoScrollStyles=t=>{t.style.paddingRight="0px",t.style.width="100%"};addClass=(t,e)=>{t.classList.add(e)};removeClass=(t,e)=>{t.classList.remove(e)};submitForm=t=>{console.log(t),t.addEventListener("submit",(e=>{console.log("ok"),e.preventDefault(),!t.classList.contains(this.staticForm)&&this.removeClass(t,this.popupModalActive),this.popup.classList.contains(this.popupHidden)&&this.removeClass(this.popup,this.popupHidden),this.clearFields(this.formInputs),this.popupModal.map(((t,i)=>{"success"===t.dataset.modal&&(console.log(this.staticForm),this.addClass(t,this.popupModalActive)),console.log(e.target,t)}))}))};clearFields=t=>{console.log(t),t.map(((t,e)=>t.value=""))}}document.addEventListener("DOMContentLoaded",(()=>{if(null!==document.getElementById("popup-main")){let t=document.querySelector(".body"),e=document.querySelector(".popup"),i=[...document.querySelectorAll(".popup__modal")],s=[...document.querySelectorAll(".popup__modal-wrapper")],n=[...document.querySelectorAll(".btn__popup")],o=[...document.querySelectorAll(".popup__modal-close")],r=[...document.querySelectorAll(".contact-form__input")],l="popup__modal--active",a="popup--hidden",c="body--noscroll",h="popup__modal-wrapper--margin";console.log(o),new Modal(t,e,i,s,h,n,o,r,l,a,c)}if(null!==document.getElementById("popup-contact")){let t=document.querySelector(".body"),e=document.querySelector(".popup"),i=[...document.querySelectorAll(".popup__modal")],s=[...document.querySelectorAll(".popup__modal-wrapper")],n=[...document.querySelectorAll(".btn__popup")],o=[...document.querySelectorAll(".popup__modal-close")],r=[...document.querySelectorAll(".contact-form__input")];new Modal(t,e,i,s,"popup__modal-wrapper--margin",n,o,r,"popup__modal--active","popup--hidden","body--noscroll","contact__form")}})),window.addEventListener("load",(function(){if(!function(){var t=document.createElement("div");t.className="rippleJS",document.body.appendChild(t);var e="absolute"==window.getComputedStyle(t).position;return document.body.removeChild(t),console.log(e),e}()){!function(t){console.log("ok");var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.body.appendChild(e)}('/*rippleJS*/.rippleJS{display:block;position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;border-radius:inherit;-webkit-mask-image:-webkit-radial-gradient(circle,#fff,#000)}.rippleJS.fill::after{position:absolute;top:0;left:0;right:0;bottom:0;content:""}.rippleJS.fill.active{border-radius:1000000px}.rippleJS .ripple{position:absolute;border-radius:100%;background:currentColor;opacity:.5;transition:all .4s ease-out;width:0;height:0;pointer-events:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rippleJS .ripple.held{opacity:1}.rippleJS .ripple.done{opacity:0}')}function t(t,e){console.log("ok");var i=e.target,s=i.classList;if(!s.contains("rippleJS"))return!1;var n=i.getAttribute("data-event");if(n&&n!=t)return!1;i.setAttribute("data-event",t);var o,r=i.getBoundingClientRect(),l=e.offsetX;void 0!==l?o=e.offsetY:(l=e.clientX-r.left,o=e.clientY-r.top);var a=document.createElement("div");a.className="ripple",a.style.transform="translate("+l+"px, "+o+"px)",a.style.webkitTransform=a.style.transform,s.add("active"),i.appendChild(a),window.setTimeout((function(){var t,e=2*(t=r.width==r.height?1.412*r.width:Math.sqrt(r.width*r.width+r.height*r.height))+"px",i=-t+"px";a.style.width=e,a.style.height=e,a.style.marginLeft=i,a.style.marginTop=i,a.classList.add("held")}),20);var c="mousedown"==t?"mouseup":"touchend",h=function(t){document.removeEventListener(c,h),a.classList.add("done"),window.setTimeout((function(){i.removeChild(a),i.children.length||(s.remove("active"),i.removeAttribute("data-event"))}),650)};document.addEventListener(c,h)}document.addEventListener("mousedown",(function(e){0==e.button&&t(e.type,e)})),document.addEventListener("touchstart",(function(e){for(var i=0;i<e.changedTouches.length;++i)t(e.type,e.changedTouches[i])}))}));class Scroll{constructor(t,e,i,s,n,o,r,l){this.page=t,this.sections=e,this.menuItems=i,this.mobileMenuItems=s,this.index=0,this.sidebar=o,this.hamburgerMenu=n,this.sidebarBody=r,this.sidebarOverlay=l}sidebarManipulation=()=>{console.log("ok"),window.onresize=()=>{window.innerWidth>1224&&this.sidebar.classList.contains("page__sidebar--active")&&(this.sidebar.classList.contains("sidebar--full-page")&&this.page.classList.toggle("page_screen_full"),this.removeSidebar())},this.sidebarOverlay.onclick=()=>this.removeSidebar(),this.hamburgerMenu.onclick=t=>this.toggleSidebar(),this.mobileMenuItems.map((t=>t.onclick=()=>this.removeSidebar()))};toggleSidebar=()=>{console.log("ok"),this.sidebar.classList.contains("sidebar--full-page")&&this.page.classList.toggle("page_screen_full"),this.sidebar.classList.toggle("page__sidebar--active"),this.page.classList.toggle("page--noScroll"),this.sidebarBody.classList.toggle("sidebar__body--active"),this.sidebarOverlay.classList.toggle("overlay--show"),this.hamburgerMenu.classList.toggle("hamburger-menu__content--active")};removeSidebar=()=>{this.sidebar.classList.contains("sidebar--full-page")&&this.page.classList.remove("page_screen_full"),this.sidebar.classList.remove("page__sidebar--active"),this.page.classList.remove("page--noScroll"),this.sidebarBody.classList.remove("sidebar__body--active"),this.sidebarOverlay.classList.remove("overlay--show"),this.hamburgerMenu.classList.remove("hamburger-menu__content--active")};menuItemsInit=()=>{this.menuItems.map(((t,e)=>t.onclick=()=>{this.changeItemStyle(e)}))};changeItemStyle=t=>{console.log("object");document.querySelector(".menu__items--active").classList.remove("menu__items--active"),this.menuItems[t].classList.add("menu__items--active")}}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".page"),e=[...document.querySelectorAll(".section")],i=[...document.querySelectorAll(".menu__items")],s=[...document.querySelectorAll(".mobile-menu__item")],n=document.querySelector(".page__sidebar"),o=document.querySelector(".sidebar__content"),r=document.querySelector(".overlay"),l=document.querySelector(".hamburger-menu__content"),a=new Scroll(t,e,i,s,l,n,o,r);a.menuItemsInit(),a.sidebarManipulation()}));